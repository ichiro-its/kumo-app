(this["webpackJsonpkumo-app"]=this["webpackJsonpkumo-app"]||[]).push([[0],{94:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(8),o=n(40),i=n(134),s=n(14),l=n(135),u=n(136),b=n(137),j=n(143),d=n(138),h=n(141),O=n(139),v=n(142),f=n(140),x=n(59),S=n(29),k=n.n(S),C=n(50),w=n(10);function m(e){var t=e.children;return Object(w.jsx)(C.a,{maxSnack:3,children:t})}var p=Object(c.createContext)(null),g=Object(i.a)((function(){var e=Object(s.a)();return{headerRoot:{backgroundColor:e.palette.primary.main},headerTitle:{color:e.palette.common.white}}}));var U=function(e){var t=e.children,n=g(),r=function(){var e=Object(C.b)();return{success:function(t){e&&e.enqueueSnackbar(t,{variant:"success"})},info:function(t){e&&e.enqueueSnackbar(t,{variant:"info"})},debug:function(t){e&&e.enqueueSnackbar(t)},warn:function(t){e&&e.enqueueSnackbar(t,{variant:"warning"})},error:function(t){e&&e.enqueueSnackbar(t,{variant:"error"})}}}(),a=Object(c.useState)(new x.Session),i=Object(o.a)(a,1)[0],s=Object(c.useState)(null),S=Object(o.a)(s,2),m=S[0],U=S[1],W=Object(c.useState)(k.a.get("webSocketUrl","ws://localhost:8080")),q=Object(o.a)(W,2),R=q[0],T=q[1],y=Object(c.useState)(!1),E=Object(o.a)(y,2),D=E[0],I=E[1];i.onConnect((function(e){r.success("Connected to the bridge server!"),U(e),I(!1),k.a.set("webSocketUrlCanConnect",!0)})).onDisconnect((function(e,t){r.error("Disconnected from the bridge server! ".concat(t," (").concat(e,")")),U(null),I(!1),k.a.set("webSocketUrlCanConnect",!1)})).onError((function(e){r.error("Found error! ".concat(e.message))})),Object(c.useEffect)((function(){null===m&&k.a.get("webSocketUrlCanConnect",!1)&&i.connect(R)}));var J=function(){return R.startsWith("ws://")&&R.length>5};return Object(w.jsxs)("div",{children:[Object(w.jsx)(l.a,{in:null!==m,children:Object(w.jsx)("div",{children:Object(w.jsx)(p.Provider,{value:m,children:t})})}),Object(w.jsx)(l.a,{in:null===m,children:Object(w.jsx)("div",{children:Object(w.jsx)(u.a,{maxWidth:"xs",children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(j.a,{title:"Create a New Session",classes:{root:n.headerRoot,title:n.headerTitle}}),Object(w.jsx)(d.a,{children:Object(w.jsx)(h.a,{label:"WebSocket URL",value:R,onChange:function(e){T(e.target.value),k.a.set("webSocketUrl",e.target.value),k.a.set("webSocketUrlCanConnect",!1)},error:!J(),helperText:J()?"":"Invalid WebSocket URL",disabled:D,variant:"outlined",fullWidth:!0})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(v.a,{onClick:function(){setTimeout((function(){i.connect(R)}),1e3),I(!0)},disabled:!J()||D,color:"primary",variant:"contained",fullWidth:!0,children:D?Object(w.jsx)(f.a,{size:24}):"Connect"})})]})})})})]})};var W=function(){return Object(w.jsx)(m,{children:Object(w.jsx)(U,{children:Object(w.jsx)("div",{children:"Hello World"})})})};Object(a.render)(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(W,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.452481b8.chunk.js.map